<?phpclass Action_model extends CI_Model{	function __construct()	{		parent::__construct();		$this->load->database();		$this->config->load('dbtables', TRUE);			}		function getActionTypeData()	{		$actionTypeQuery = $this->db->get($this->config->item('ala_action_types','dbtables'));		return $actionTypeQuery->result();	}		function getGoals()	{		$goalsQuery = $this->db->get_where($this->config->item('ala_goals','dbtables'), array("user_id"=>trim($this->session->userdata("user_id"))));		return $goalsQuery->result();	}		function getGoalsCount()	{		$this->db->where('user_id', trim($this->session->userdata("user_id")));		return $this->db->count_all_results($this->config->item('ala_goals','dbtables'));	}		function insertGoal()	{		$checkGoal = $this->db->get_where($this->config->item('ala_goals','dbtables'),array("title"=>trim($this->input->post("title")), "user_id"=>trim($this->session->userdata("user_id"))));		if($checkGoal->row())		{			return "exist";		}		else		{			$insertArr = array(								'user_id' => trim($this->session->userdata("user_id")),								'title' => trim($this->input->post("title")),								'description' => trim($this->input->post("description")),								'status' => 1,								'is_secondary' => trim($this->input->post("type")),								'created_at' => date("Y-m-d H:i:s"),								'updated_at' => date("Y-m-d H:i:s"),							  );			$result = $this->db->insert($this->config->item('ala_goals','dbtables'), $insertArr);			$goalId =  $this->db->insert_id();			return $goalId;		}	}		function getGoalData($goalId)	{		$getGoalQuery = $this->db->get_where($this->config->item('ala_goals','dbtables'),array("id"=>trim($goalId)));		$goalData = $getGoalQuery->row();		return $goalData;	}	function updateGoal($goalId)	{		$checkGoalQuery = $this->db->get_where($this->config->item('ala_goals','dbtables'),array("title"=>trim($this->input->post("title")), "user_id"=>trim($this->session->userdata("user_id"))));		$checkGoal = $checkGoalQuery->row();				if($checkGoal && $checkGoal->id!=$goalId)		{			return "exist";		}		else		{			$data = array(							'title' => trim($this->input->post("title")),							'description' => trim($this->input->post("description")),							'is_secondary' => trim($this->input->post("type")),							'updated_at' => date("Y-m-d H:i:s"),						);			$this->db->where('id',$goalId);			$res = $this->db->update($this->config->item('ala_goals','dbtables'), $data);			return $res;		}	}		function deleteGoal($goalId)	{		$this->db->where('id', $goalId);		$res = $this->db->delete($this->config->item('ala_goals','dbtables'));		return $res;	}	}?>